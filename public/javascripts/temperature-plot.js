/*! airconditioner-remote 2014-08-16 */
!function(a){"use strict";function b(){e=new Date,k.domain([e-(c-2)*d,e-d]),l.domain([0,a.max(g)]),g.push(Math.min(30,f)),f=0,n.select(".line").attr("d",m).attr("transform",null),o.transition().duration(d).ease("linear").call(k.axis),p.transition().duration(d).ease("linear").attr("transform","translate("+k(e-(c-1)*d)+")").each("end",b),g.shift()}var c=243,d=750,e=new Date(Date.now()-d),f=0,g=a.range(c).map(function(){return 0}),h={top:6,right:0,bottom:20,left:40},i=450-h.right,j=120-h.top-h.bottom,k=a.time.scale().domain([e-(c-2)*d,e-d]).range([0,i]),l=a.scale.linear().domain([10,35]).range([j,0]),m=a.svg.line().interpolate("basis").x(function(a,b){return k(e-(c-1-b)*d)}).y(function(a){return l(a)}),n=a.select(document.querySelector(".temperature-plot")).append("svg").attr("width",i+h.left+h.right).attr("height",j+h.top+h.bottom).style("margin-left",-h.left+"px").append("g").attr("transform","translate("+h.left+","+h.top+")");n.append("defs").append("clipPath").attr("id","clip").append("rect").attr("width",i).attr("height",j);var o=n.append("g").attr("class","x axis").attr("transform","translate(0,"+j+")").call(k.axis=a.svg.axis().scale(k).orient("bottom")),p=(n.append("g").attr("class","y axis").call(a.svg.axis().scale(l).ticks(5).orient("left")),n.append("g").attr("clip-path","url(#clip)").append("path").data([g]).attr("class","line"));b(),a.select(window).on("scroll",function(){++f})}(d3);